<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="assets/favicon.ico" rel="shortcut icon" />
  <link rel="stylesheet" href="css/owfont-regular.css" />
  <link rel="stylesheet" href="css/style.css" />
  <title>momentum</title>
</head>
<body>
  <header class="header">
    <div class="player">
      <div class="player-controls">
        <button class="play-prev player-icon" onclick="prevTrack()" ></button>
        <button class="play player-icon" onclick="playAudio()" ></button>
        <button class="play-next player-icon" onclick="nextTrack()"></button>
      </div>
      <ul class="play-list"></ul>
    </div>
    <div class="weather">
      <input type="text" class="city" />
      <i class="weather-icon owf"></i>
      <div class="weather-error"></div>
      <div class="description-container">
        <span class="temperature"></span>
        <span class="weather-description"></span>
      </div>
      <div class="wind"></div>
      <div class="humidity"></div>
    </div>
  </header>
  <main class="main">
    <div class="slider-icons">
      <button class="slide-prev slider-icon"></button>
      <button class="slide-next slider-icon"></button>
    </div>
    <time class="time"></time>
    <date class="date"></date>
    <div class="greeting-container">
      <span class="greeting"></span>
      <input type="text" class="name" value="[Enter name]"/>
    </div>
  </main>
  <footer class="footer">
    <button class="change-quote" onclick="showQuote()" ></button>
    <div>
      <div class="quote"></div>
      <div class="author"></div>
    </div>
  </footer>
  
  <script src="js/script.js"></script>
  <script type="text/javascript" src="js/data.json"></script>
  <script type="module" src="js/playList.js"></script>

  <script> 

    function showQuote() {
      let randNumber = Math.floor(Math.random() * 99);

      var mydata = data;
      

      let quote = document.querySelector('.quote');
      quote.textContent = mydata[randNumber]["text"];

      let author = document.querySelector ('.author');
      author.textContent = mydata[randNumber]["author"];
    }

    showQuote()
    
  </script>
  <script>
    const audio = new Audio();
 let isPlay = false;
 let playButton = document.querySelector('.play');
 let numberOfTrack = 0;

 const playList = [
  {      
    title: 'Aqua Caelestis',
    src: 'assets/sounds/Aqua Caelestis.mp3',
    duration: '00:58'
  },  
  {      
    title: 'River Flows In You',
    src: 'assets/sounds/River Flows In You.mp3',
    duration: '03:50'
  },
  {      
      title: 'Ennio Morricone',
      src: 'assets/sounds/Ennio Morricone.mp3',
      duration: '01:37'
  },
  {      
      title: 'Summer Wind',
      src: 'assets/sounds/Summer Wind.mp3',
      duration: '01:37'
  }
  
]

function playAudio() {
  audio.src = playList[numberOfTrack].src;// ссылка на аудио-файл;
  audio.currentTime = 0;

  if(isPlay) {
    audio.pause();
    isPlay = false;
    playButton.classList.remove  ('pause');
    playButton.classList.add('play');
  } 
   else {
    audio.play();
    isPlay = true;
    playButton.classList.remove  ('play');
    playButton.classList.add('pause');
   }
}

function prevTrack() {
  if(numberOfTrack == 0) {
    numberOfTrack = 3;
  }
  else {numberOfTrack--}
  
  audio.src = playList[numberOfTrack].src;
  audio.currentTime = 0;
  if(isPlay) {
    audio.play();
    isPlay = true;
    playButton.classList.remove  ('play');
    playButton.classList.add('pause');
  }
  else{
    audio.pause();
    isPlay = false;
    playButton.classList.remove  ('pause');
    playButton.classList.add('play');
  }


}


function nextTrack() {
  if(numberOfTrack == 3) {
    numberOfTrack = 0;
  }
  else {numberOfTrack++};

  audio.src = playList[numberOfTrack].src;
  audio.currentTime = 0;
  if(isPlay) {
    audio.play();
    isPlay = true;
    playButton.classList.remove  ('play');
    playButton.classList.add('pause');
  }
  else{
    audio.pause();
    isPlay = false;
    playButton.classList.remove  ('pause');
    playButton.classList.add('play');
  }
}
  </script>
  
</body>
</html>
